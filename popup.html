<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundCloud Shuffle</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            width:320px;
            font-family:"Inter",system-ui,-apple-system,sans-serif;
            background:#0e0e0e;
            color:#e0e0e0;
            overflow:hidden;
            user-select:none;
            border-radius:14px;
        }

        /* â”€â”€ Now Playing hero â”€â”€ */
        .hero{
            position:relative;
            padding:20px 16px 14px;
            overflow:hidden;
        }
        .hero-bg{
            position:absolute;inset:0;
            background-size:cover;background-position:center;
            opacity:0;filter:blur(28px) saturate(1.8);
            transform:scale(1.5);
            transition:opacity .5s;
        }
        .hero-bg.on{opacity:.18}
        .hero-overlay{
            position:absolute;inset:0;
            background:linear-gradient(180deg,rgba(14,14,14,.4) 0%,rgba(14,14,14,.95) 100%);
        }
        .hero-content{position:relative;z-index:1;display:flex;align-items:center;gap:14px}
        .art{
            width:56px;height:56px;
            border-radius:10px;
            background:#1a1a1a;
            background-size:cover;background-position:center;
            flex-shrink:0;
            box-shadow:0 4px 16px rgba(0,0,0,.5);
        }
        .meta{flex:1;min-width:0}
        .meta-title{
            font-size:14px;font-weight:600;color:#fff;
            white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3;
        }
        .meta-artist{
            font-size:12px;color:#aaa;margin-top:2px;
            white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
        }
        .meta-page{
            font-size:10px;color:#666;margin-top:4px;
            white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
            display:none;
        }
        .meta-page.on{display:block}

        /* â”€â”€ Transport controls â”€â”€ */
        .transport{
            display:flex;align-items:center;justify-content:center;
            gap:2px;padding:4px 16px 12px;
        }
        .t-btn{
            border:none;border-radius:10px;background:transparent;
            color:#999;cursor:pointer;
            display:flex;align-items:center;justify-content:center;
            transition:color .1s,background .1s,transform .06s;
        }
        .t-btn:hover{color:#fff;background:rgba(255,255,255,.06)}
        .t-btn:active{transform:scale(.9)}
        .t-btn:disabled{color:#333;cursor:not-allowed;background:transparent;transform:none}
        .t-btn svg{fill:currentColor}
        .t-sm{width:36px;height:34px}
        .t-sm svg{width:18px;height:18px}
        .t-md{width:42px;height:38px}
        .t-md svg{width:22px;height:22px}
        .t-play{
            width:54px;height:48px;
            background:#f50;color:#fff;
            border-radius:14px;margin:0 2px;
        }
        .t-play:hover{background:#e54e00;color:#fff}
        .t-play:disabled{background:#1e1e1e;color:#444}
        .t-play svg{width:26px;height:26px}

        /* Like active state */
        .t-btn.liked{color:#f50}

        /* Like animation */
        .t-btn.like-pop{
            animation: likePop .4s cubic-bezier(.17,.89,.32,1.49);
        }
        @keyframes likePop{
            0%{transform:scale(1)}
            30%{transform:scale(1.5)}
            60%{transform:scale(.85)}
            100%{transform:scale(1)}
        }
        .like-burst{
            position:fixed;pointer-events:none;
            font-size:14px;z-index:9999;
            animation: burstUp .7s ease-out forwards;
        }
        @keyframes burstUp{
            0%{opacity:1;transform:translate(0,0) scale(1)}
            100%{opacity:0;transform:translate(var(--dx),var(--dy)) scale(.4)}
        }
        .t-btn.unlike-pop{
            animation: unlikePop .6s ease-out;
        }
        @keyframes unlikePop{
            0%{transform:scale(1)}
            20%{transform:scale(.75)}
            50%{transform:scale(1.05)}
            100%{transform:scale(1)}
        }



        /* â”€â”€ Shuffle â”€â”€ */
        .action-row{padding:0 16px 10px; display: flex; justify-content: center;}
        .shuffle-btn{
            width: auto;
            min-width: 160px;
            padding: 10px 24px;
            border:1px solid #252525;border-radius:24px;
            background:#141414;
            color:#f50;font-family:inherit;font-size:13px;font-weight:700;
            letter-spacing:.02em;cursor:pointer;
            transition:all .15s ease;
            position:relative;
        }
        .shuffle-btn:hover{border-color:#f50;background:#1a1a1a}
        .shuffle-btn:active{transform:scale(.97)}
        .shuffle-btn:disabled{
            background:#111;color:#333;cursor:not-allowed;
            transform:none;border-color:#1a1a1a;
        }

        /* â”€â”€ Footer â”€â”€ */
        .foot{
            padding:10px 16px 12px;
            border-top:1px solid #1a1a1a;
            text-align:center;
        }
        .foot-msg{
            font-size:10px;color:#444;margin-bottom:6px;
            display:none;
        }
        .foot-msg.on{display:block}
        .coffee{
            display:inline-flex;align-items:center;gap:5px;
            font-size:12px;font-weight:600;
            color:#ffdd57;text-decoration:none;
            padding:6px 14px;border-radius:8px;
            background:rgba(255,221,87,.08);
            transition:background .15s,transform .08s;
        }
        .coffee:hover{background:rgba(255,221,87,.15)}
        .coffee:active{transform:scale(.96)}

        /* â”€â”€ Tooltip â”€â”€ */
        [data-tip]{position:relative}
        [data-tip]:hover::after{
            content:attr(data-tip);
            position:absolute;bottom:calc(100% + 8px);
            left:50%;transform:translateX(-50%);
            background:#222;color:#bbb;font-size:10px;font-weight:400;
            padding:6px 10px;border-radius:6px;white-space:nowrap;
            pointer-events:none;z-index:10;
            box-shadow:0 2px 8px rgba(0,0,0,.5);
        }
    </style>
</head>
<body>

    <!-- Now Playing Hero -->
    <div class="hero">
        <div class="hero-bg" id="heroBg"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="art" id="art"></div>
            <div class="meta">
                <div style="display:flex;align-items:center;gap:6px">
                    <div class="meta-title" id="title" style="flex:1;min-width:0">No track</div>
                    <button class="t-btn t-sm" id="likeBtn" title="Like" style="flex-shrink:0">
                        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                    </button>
                </div>
                <div class="meta-artist" id="artist">â€”</div>
                <div class="meta-page" id="pageLabel"></div>
            </div>
        </div>
    </div>

    <!-- Transport -->
    <div class="transport">
        <button class="t-btn t-md" id="prevBtn" disabled title="Previous">
            <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
        </button>
        <button class="t-btn t-play" id="ppBtn" disabled title="Play">
            <svg viewBox="0 0 24 24" id="ppIcon"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <button class="t-btn t-md" id="nextBtn" disabled title="Next">
            <svg viewBox="0 0 24 24"><path d="M16 18h2V6h-2zM6 18l8.5-6L6 6z"/></svg>
        </button>
    </div>

    <!-- Shuffle -->
    <div class="action-row">
        <button class="shuffle-btn" id="shuffleBtn" disabled
            data-tip="ðŸ’¡ Be on a SoundCloud playlist/likes page for best results">ðŸ”€ Shuffle Play</button>
    </div>

    <!-- Footer -->
    <div class="foot">
        <div class="foot-msg" id="footMsg"></div>
        <a class="coffee" href="https://buymeacoffee.com/paulhudyka5" target="_blank" rel="noopener">â˜• Buy me a coffee</a>
    </div>

    <script src="popup.js"></script>
</body>
</html>
